# StoreApp
Store Application which saves store details in MySQL DB.

# REST Service APIs

* Create Store details

To create a store below is the request URL:
PUT - http:<StoreAppServer>:8080/store-app/createStore

Mandatory Parameters:
storeName - Name of the store.
storeOwner - Name of the store owner.
addressLine1 - Store Address Line 1.
city - Name of the USA city where store is.
state - Name of the USA state where store is.
zipcode - Zipcode of the area where store is.

Optional Parameters:
addressLine2 - Store Address Line 2.

Provide request parameter in jSON format.
It returns an integer which is store id.

Example:
```
PUT - http://localhost:8081/store-app/store/createStore

RequestBody:
{"storeName":"Mc Donals","storeOwner":"PQR","contact":{"addressLine1":"Empire State Building","city":"New York","state":"New York","zipcode":10001}}

ResponseBody:
12
```

* Read Store details

To read store details, below is the request URL:
PUT - http:<StoreAppServer>:8080/store-app/getStore/{storeId}

Mandatory Parameters:
storeId - storeId which is given by createStore REST API .

It returns Store details in jSON Format.

Example:
```
GET - http://localhost:8081/store-app/store/getStore/12


ResponseBody:
{
"storeId": 12,
"storeName": "Mc Donals",
"storeOwner": "PQR",
"contact":{
"addressLine1": "Empire State Building",
"city": "New York",
"state": "New York",
"zipcode": 10001
},
}
```

* Update Store details

To update a store below is the request URL:
PUT - http:<StoreAppServer>:8080/store-app/updateStore

Mandatory Parameters:
storeId - storeId which is generated by createStore REST API.

Optional Parameters:
storeName - Name of the store to update.
storeOwner - Name of the store owner to update.
addressLine1 - Store Address Line 1 to update.
addressLine2 - Store Address Line 2 to update.
city - Name of the USA city where store is to update.
state - Name of the USA state where store is to update.
zipcode - Zipcode of the area where store is to update.

Provide request parameter in jSON format.
It returns 200 HTTP Ok response.

Example:
```
POST - http://localhost:8081/store-app/store/updateStore

RequestBody:
{"storeId":"12","storeName":"WallMart","storeOwner":"ABC"}

ResponseBody:
HTTP 200 OK.
``` 
 
* Delete Store details

To detele a store below is the request URL:
DEL - http://<StoreAppServer>:8080/store-app/deleteStore/{storeId}

Mandatory Parameters:
storeId - storeId which is generated by createStore REST API.

It returns 200 HTTP Ok response.

Example:
```
DEL - http://localhost:8081/store-app/store/deleteStore/12


ResponseBody:
HTTP 200 OK.
```

* To Calculate the distance between source and destination address, I used GOOGLE's Distance Matrix API.
  To get more details please follow the below link:
  https://developers.google.com/maps/documentation/distance-matrix/start#get-a-key
  
CONFIGURATION:
* /store-app/src/main/webapp/WEB-INF/jdbc.properties - Provide the MySQL details specified in this file.
* A MySQL Script is provided to generate database for the project.
* /store-service/src/main/java/com/store/impls/StoreService.java requires to set 'API_KEY' which needs to be generated using a procedure provided in the above GOOGLE's Distance Matrix API.

BUILD PROCESS:
* Clone the above project.
* Follow the 'CONFIGURATION' process.
* Now, to generate the 'store-app.war' file, one needs to install MAVEN in the system.
* Follow the below link to install and configure MAVEN:
  https://maven.apache.org/
* Once MAVEN is configured and installed, go to '/StoreApp' directory and run the below command:
  'mvn clean install'
* It will build the war in '/StoreApp/store-app/target' directory.

TO RUN THE APPLICATION:
* It runs on 'Tomcat Server 7'. To download, install, & configure the Tomcat Server, follow the below link:
  http://tomcat.apache.org/
* Once Tomcat Server is installed and configured, go to '<tomcat-installation-directory>/webapps/' directory.
* Put the 'store-app.war' file.
* Now, go to '<tomcat-installation-directory>/bin/' directory and execute below command:
  on linux, './catalina start'
  on Windows, 'catalina.batch start'
